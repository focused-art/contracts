/*                                          */
/*               FA2 Protocol               */
/*                                          */
/*      Built by Codecrafting <â™¥> Labs      */
/*                                          */

#include "../common/types.jsligo"
#include "../common/utils/fa2.jsligo"
#include "../common/utils/permit.jsligo"
#include "types.jsligo"
#include "helpers.jsligo"
#include "views.jsligo"
#include "entrypoints.jsligo"

@entry
const main = (action: entry_action, s: storage): @return => {
  assert_with_error(Tezos.get_amount() == (0 as mutez), "FA2_DONT_SEND_TEZ");
  return match(action, {
    Permitted: params           => permitted_main(params, s),
    Init: params                => init(params, None(), s),
    Transfer_ownership: params  => transfer_ownership(params, None(), s),
    Update_roles: params        => update_roles(params, None(), s),
    Renounce_roles: params      => renounce_roles(params, None(), s),
    Update_hooks: params        => update_hooks(params, None(), s),
    Confirm_ownership: params   => confirm_ownership(params, None(), s),
    Migrate_to_protocol: params => migrate_to_protocol(params, s)
  });
};
